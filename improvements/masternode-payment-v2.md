# Masternode Payment V2

One of the main functions of the masternode system is to distribute rewards to the masternodes (MN) that secure and support the DECENOMY network. The rewards are generated by the block creation process and are allocated to a specific MN in each block. However, the question of selecting which MN will receive the reward in each block is not trivial. Different methods can have different implications for the fairness and efficiency of the reward system.

The inherited PIVX's current method of selecting the reward recipient is based on a voting mechanism. Each MN in the network casts a vote for another MN that it thinks should receive the next reward, based on the criteria of the last paid value. The last paid value is an estimate of when an MN was last paid, calculated by counting the number of votes that it received from other MNs. The MN that receives the most votes in a given block is selected as the winner and receives the reward.

However, this voting mechanism has some drawbacks and limitations. First, it relies on the assumption that all MNs are online and voting correctly, which may not always be the case. Some MNs may be offline, malfunctioning, or maliciously voting for themselves or their friends. Second, it does not account for the actual time when an MN was paid, but only for the number of votes that it received. This means that sometimes an MN may lose a reward round because it received fewer votes than another MN, even though it was actually waiting longer to be paid. Third, it does not provide a clear and consistent way to measure the last paid value of an MN across different nodes in the network. Different nodes may have different views of the voting history and may disagree on which MN was paid when.

The masternode payment v2 is a new feature that addresses these issues and replaces the old voting mechanism entirely. Instead of using votes to select the reward recipient, it uses a simple and objective rule: it pays the MN that is waiting longer to be paid. To determine which MN is waiting longer to be paid, it uses blockchain data as the source of truth. The blockchain records every payment that is made to an MN in a special field called `payee`. The masternode payment v2 scans the blockchain from the most recent to the oldest block and looks for this field to identify when an MN was paid. It then assigns a last paid value to each MN based on its last payment's block height (or number). This way, it can accurately and objectively determine which MN has been waiting longer to be paid and select it as the next winner.

The masternode payment v2 has several advantages over the old voting mechanism. First, it does not depend on any external factors such as network connectivity, node availability, or voting behavior. It only relies on the blockchain data, which is immutable and verifiable by anyone. Second, it reflects the actual time when an MN was paid, not just the number of votes that it received. This ensures that every MN has a fair chance to receive a reward based on its waiting time, not on its luck. Third, it provides a consistent and transparent way to measure the last paid value of an MN across different nodes in the network. Every node can easily calculate and verify this value by scanning the same blockchain data.

The masternode payment v2 is a major improvement for the masternode system and for the DECENOMY coins. It simplifies and streamlines the reward system, increases its fairness and efficiency, and reduces its complexity and potential for errors. It also makes DECENOMY coins more attractive and competitive as a cryptocurrency that rewards its users for securing and supporting its network.
