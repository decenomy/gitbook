# Last Paid V2

One of the features of the masternode system is the ability to track when a masternode (MN) was last paid. This information is useful for determining the order of payments and the expected time until the next payment. However, the current method of calculating the last paid value of an MN has some flaws and inaccuracies that can affect the fairness and efficiency of the payment system. The last paid v2 is a new feature that aims to solve these problems and improve the accuracy and reliability of the last paid value.

The current method of calculating the last paid value of an MN is based on the number of votes that an MN receives from other MNs in the network. The inherited PIVX system uses a voting mechanism to select which MN will receive the next payment. Each MN casts a vote for another MN that it thinks should be paid next, based on various criteria such as the last paid value, the protocol version, and the collateral age. The MN that receives the most votes in a given block is selected as the winner and receives the payment.

However, this voting mechanism has some drawbacks and limitations. First, it relies on the assumption that all MNs are online and voting correctly, which may not always be the case. Some MNs may be offline, malfunctioning, or maliciously voting for themselves or their friends. Second, it does not account for the actual time when an MN was paid, but only for the number of votes that it received. This means that sometimes an MN may lose a payment round because it received fewer votes than another MN, even though it was actually waiting longer to be paid. Third, it does not provide a clear and consistent way to measure the last paid value of an MN across different nodes in the network. Different nodes may have different views of the voting history and may disagree on which MN was paid when.

The last paid v2 is a new feature that addresses these issues and replaces the old voting mechanism entirely. Instead of using votes to determine when an MN was paid, it uses the blockchain itself as the source of truth. The blockchain records every payment that is made to an MN in a special field called "payee". The last paid v2 scans the blockchain from the most recent block to the oldest block and looks for this field to identify when an MN was paid. It then assigns a last paid value to each MN based on the block height (or number) of its last payment. This way, it can accurately and objectively determine which MN was waiting longer to be paid and select it as the next winner.

The last paid v2 has several advantages over the old voting mechanism. First, it does not depend on any external factors such as network connectivity, node availability, or voting behavior. It only relies on the blockchain data, which is immutable and verifiable by anyone. Second, it reflects the actual time when an MN was paid, not just the number of votes that it received. This ensures that every MN has a fair chance to receive a payment based on its waiting time, not on its popularity or luck. Third, it provides a consistent and transparent way to measure the last paid value of an MN across different nodes in the network. Every node can easily calculate and verify this value by scanning the same blockchain data.

The last paid v2 is a major improvement for the masternode system and for DECENOMY coins as a whole. It enhances the accuracy and reliability of the payment system, increases its fairness and efficiency, and reduces its complexity and potential for errors. It also makes DECENOMY coins more attractive and competitive as a cryptocurrency that rewards its users for securing and supporting its network.
